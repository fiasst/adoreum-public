var FORMS=function($,t,e,a){var i={toggleCustomInputField:function(t,e,a){t&&t.hasClass("w--redirected-checked")!==a&&t.trigger("click"),e.prop("checked",a)}};return $((function(){USER.getCurrentMember((function(t){if(HELP.checkKeyExists(t,"id")){var e=$(".input-member-id");e&&!e.val()&&(e.val(t.id),e.parents("form").find(".form-submit").removeAttr("disabled"))}}));const t=HELP.getSetQuerystring("dest");t&&$("form").find(".fp_redirect").attr("data-redirect","/"+t),$("form").on("submit",(function(){var t=$(this).find(".fp_redirect").attr("data-redirect");t&&localStorage.setItem("fp_redirect",t)})),$(".ajax-submit").on("click",".form-submit",(function(t){$(t.target).addClass("clicked")})).on("submit",(function(t){t.preventDefault(),e(t)}));const e=t=>{var e=$(t.target),a=e.find(".form-submit.clicked"),i=e.attr("data-validation"),n=e.attr("data-form-values-type");if(i&&!HELP.callNestedFunction(i))return console.log("Validation failed"),MAIN.buttonThinking(a,!0),!1;var r=HELP.getFormValues(e,n),o=HELP.getCookie("form-valid");o=o?Number(o):0,o=++o,"formData"==n?r.set("increment",o):r.increment=o,HELP.setCookie("form-valid",o);var c={url:e.attr("action"),method:e.attr("method"),data:r,timeout:12e4,callbackSuccess:function(t){MAIN.thinking(!1),MAIN.handleAjaxResponse(t,e)},callbackError:function(t){MAIN.thinking(!1),console.log("error")}};"formData"==n&&(c.processData=!1,c.contentType=!1,c.cache=!1),MAIN.buttonThinking(a),MAIN.thinking(!0,!1),console.log("data: ",c.data),HELP.sendAJAX(c,e)};$(".w-form-formradioinput--inputType-custom").each((function(){var t=$(this),e=t.siblings(":input"),a=t.hasClass("w--redirected-checked");a&&i.toggleCustomInputField(t,e,a)})),$(":input[data-maxlength]").each((function(){$(this).attr("maxlength",HELP.sanitizeHTML($(this).attr("data-maxlength")))})),$(".format-ddmmyyyy").on("keyup",(function(t){t&&"Backspace"!=t.key&&"Delete"!=t.key&&$(this).val(HELP.formatDDMMYYYY($(this).val()))})),$(".select-list-options").buildSelectOptions(),$(":input[data-default-value]").inputAttrDefaultValue(),$(".input-default-value").inputDefaultValue()})),i}(jQuery,0,this.document);$.fn.inputAttrDefaultValue=function(){$(this).each((function(){var t=$(this),e=t.attr("data-default-value");t.val()||("number"==t.attr("type")&&(e=HELP.removeNonNumeric(e)),t.val(HELP.sanitizeHTML(e)).trigger("change"))}))},$.fn.inputDefaultValue=function(){$(this).each((function(){var t=$(this),e=t.text(),a=t.parents(".input-wrapper").find(":input"),i=a.eq(0).attr("type");"checkbox"==i||"radio"==i?a.each((function(){var t=$(this).siblings(`.w-${i}-input`),a=!!e&&e==$(this).val();"checkbox"==i&&(a=!!e&&"false"!==e),FORMS.toggleCustomInputField(t,$(this),a)})):a.val()||(a.hasClass("editor")?a.val(t.html()):a.val(HELP.stripHTMLWithLinebreaks(t.html())),a.trigger("change")),t.remove()}))},$.fn.buildSelectOptions=function(t){t=t||{},$.each(this,(function(t,e){var a=$(this).parent(".select-list-wrapper"),i=$("select",a),n=$(".input-default-value",a),r=HELP.sanitizeHTML(n.text()?n.text():n.attr("data-value"))||"",o=[],c=i.is("select[multiple]");c&&(r=r.split("|")),$(this).find(".w-dyn-item").each((function(){var t=$.trim($(this).text()),e=t==r&&"selected";c&&(e=$.inArray(t,r)>-1),!t||$.inArray(t,o)>-1||(o.push(t),$("<option />",{value:t,selected:e}).text(t).appendTo(i))})),i.trigger("change")}))},jQuery.expr[":"].selectedInput=(t,e,a)=>"checkbox"==t.type||"radio"==t.type?t.checked:["submit","button","reset","hidden"].indexOf(t.type)<0&&t.value;